// =============================================================================
// infrastructure/src/repositories/mod.rs: リポジトリモジュール
// =============================================================================
// デコレータパターンを使用したリポジトリ実装を提供する。
//
// デコレータパターン:
// - 既存のオブジェクトに新しい機能を動的に追加するパターン
// - 元のインターフェース（トレイト）を維持したまま機能を拡張
//
// 現在の実装:
// - CachedTodoReader: TodoReader にキャッシュ機能を追加
//
// 構成図:
// ```text
// ┌──────────────────────────────────────────────────────┐
// │ CachedTodoReader                                     │
// │ ┌──────────────────┐  ┌───────────────────────────┐ │
// │ │ PostgresTodoReader│  │ TodoCache (Redis)         │ │
// │ │ (内部 Reader)     │  │ (キャッシュ)             │ │
// │ └──────────────────┘  └───────────────────────────┘ │
// └──────────────────────────────────────────────────────┘
// ```
//
// find_by_id の処理フロー:
// 1. キャッシュを確認
// 2. ヒット → キャッシュから返却
// 3. ミス → 内部 Reader から取得 → キャッシュに保存 → 返却
// =============================================================================

// -----------------------------------------------------------------------------
// サブモジュール宣言
// -----------------------------------------------------------------------------

/// キャッシュ付き TodoReader 実装
mod cached_todo_reader;

// -----------------------------------------------------------------------------
// 再エクスポート（Re-export）
// -----------------------------------------------------------------------------

/// CachedTodoReader を公開
pub use cached_todo_reader::CachedTodoReader;
